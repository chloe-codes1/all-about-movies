{% extends 'base.html' %}
{% load bootstrap4 %}
{% block content %}

<h4>Box Office</h4>
<hr>
<div id="carouselControls" class="carousel slide w-100 mx-auto" data-ride="carousel" style="height:500px;">
  <div class="carousel-inner">
      {% for movie in boxoffice %}
      {% if movie == boxoffice.first %}
        <div class="carousel-item active w-100 bg-dark d-flex">
          <img src="https://image.tmdb.org/t/p/w185_and_h278_bestv2/{{movie.poster}}" class="w-100" alt="boxoffice movie" style="height:500px;">
        </div>
      {% else %}
        <div class="carousel-item w-100 bg-dark">
          <img src="https://image.tmdb.org/t/p/w185_and_h278_bestv2/{{movie.poster}}" class="w-100" alt="boxoffice movie" style="height:500px;">
        </div>
      {% endif %}
    {% endfor %}
  </div>
  <a class="carousel-control-prev" href="#carouselControls" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselControls" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>

<hr>
<h4>Movies</h4>
<hr>
<div class="container">
  <div class="row">
  {% for movie in movies %}
    <div class="col-6 col-sm-3">
        <div class="card" style="width: 18rem;">
          <img src="https://image.tmdb.org/t/p/w185_and_h278_bestv2/{{movie.poster}}" class="card-img-top" alt="movie image">
          <div class="card-body">
            <h5 class="card-title">{{movie.title}}</h5>
            <p class="card-text text-warning">â˜…   <span class="text-dark">{{movie.vote_average}}</span></p>
            <a href="{% url 'movies:movie_detail' movie.pk %}" class="btn btn-warning">Detail</a>
            <a href="{% url 'movies:review_create' movie.pk %}" class="btn btn-warning">Review</a>
          </div>
        </div>
        <div></div>
    </div>
  {% endfor %}
  </div>
</div>
{% endblock %}